<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="Ostyles.css">
    <title>Samantha Booking</title>
    <script src="ownerbooking.js"></script>

</head>

<body>

    <div class="menu-bar">
        <nav>
            <ul>
                <li><a href="index.html">Home</a></li>
                <li><a href="ManageClients.html">Manage Clients</a></li>
                <li><a href="manageAnimals.html">Manage Animals</a></li>
                <li><a href="#">Forms</a></li>
                <li><a href="Owner-Booking.html">Appointments</a></li>
            </ul>
        </nav>
    </div>

    <div class="container1">
   
    <h1>Samantha Booking</h1>  </div>
    <div class="container">
        <div class="column" id="requestedAppointments">
            <h2>Requested Appointments</h2>
            <ul id="requestedList">
                <!-- Requested appointments will be dynamically added here -->
            </ul>
            <script>
                // Fetch appointments from the server
                fetch('http://localhost:3000')
                  .then(response => response.json())
                  .then(appointments => {
                    const appointmentsList = document.getElementById('requestedList');
              
                    // Loop through the appointments and display them
                    appointments.forEach(appointment => {
                      const appointmentDiv = document.createElement('div');
                      appointmentDiv.innerHTML = `
                        <p>Name: ${appointment.firstName} ${appointment.lastName}</p>
                        <p>Service: ${appointment.service}</p>
                        <p>Email: ${appointment.email}</p>
                        <button onclick="acceptAppointment('${appointment._id}')">Accept</button>
                        <button onclick="rejectAppointment('${appointment._id}')">Reject</button>
                      `;
              
                      appointmentsList.appendChild(appointmentDiv);
                    });
                  })
                  .catch(error => {
                    console.error('Error:', error);
                  });
              
                function acceptAppointment(appointmentId) {
                  // Implement logic to accept the appointment with the given ID
                }
              
                function rejectAppointment(appointmentId) {
                  // Implement logic to reject the appointment with the given ID
                }
              </script>

        </div>
        <div class="column" id="confirmedAppointments">
            <h2>Confirmed Appointments</h2>
            <ul id="confirmedList">
                <!-- Confirmed appointments will be dynamically added here -->
            </ul>
        </div>
    </div>

    <div id="appointmentDetails" class="hidden">
        <h2>Appointment Details</h2>
        <div id="appointmentInfo"></div>
        <!-- <form action="/api/acceptAppointment:id" method="POST"> -->
        <button id="approveBtn" onsubmit="onSubmitForm(event)" >Approve</button></form>
        <button id="declineBtn">Decline</button>
    </div>
    <script src="ownerbooking.js"></script>

</body>

</html>
